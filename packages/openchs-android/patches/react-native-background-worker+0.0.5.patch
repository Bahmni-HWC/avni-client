diff --git a/node_modules/react-native-background-worker/android/build.gradle b/node_modules/react-native-background-worker/android/build.gradle
index ab9b663..2344aea 100644
--- a/node_modules/react-native-background-worker/android/build.gradle
+++ b/node_modules/react-native-background-worker/android/build.gradle
@@ -17,29 +17,29 @@ buildscript {
 }
 
 apply plugin: 'com.android.library'
-apply plugin: 'maven'
+apply plugin: 'maven-publish'
 
 // Matches values in recent template from React Native 0.59 / 0.60
 // https://github.com/facebook/react-native/blob/0.59-stable/template/android/build.gradle#L5-L9
 // https://github.com/facebook/react-native/blob/0.60-stable/template/android/build.gradle#L5-L9
-def DEFAULT_COMPILE_SDK_VERSION = 28
-def DEFAULT_BUILD_TOOLS_VERSION = "28.0.3"
+def DEFAULT_COMPILE_SDK_VERSION = 31
+def DEFAULT_BUILD_TOOLS_VERSION = "31"
 def DEFAULT_MIN_SDK_VERSION = 16
-def DEFAULT_TARGET_SDK_VERSION = 28
+def DEFAULT_TARGET_SDK_VERSION = 31
 
 android {
-  compileSdkVersion safeExtGet('compileSdkVersion', DEFAULT_COMPILE_SDK_VERSION)
-  buildToolsVersion safeExtGet('buildToolsVersion', DEFAULT_BUILD_TOOLS_VERSION)
-
-  defaultConfig {
-    minSdkVersion safeExtGet('minSdkVersion', DEFAULT_MIN_SDK_VERSION)
-    targetSdkVersion safeExtGet('targetSdkVersion', DEFAULT_TARGET_SDK_VERSION)
-    versionCode 1
-    versionName "1.0"
-  }
-  lintOptions {
-    abortOnError false
-  }
+    compileSdkVersion safeExtGet('compileSdkVersion', DEFAULT_COMPILE_SDK_VERSION)
+    buildToolsVersion safeExtGet('buildToolsVersion', DEFAULT_BUILD_TOOLS_VERSION)
+
+    defaultConfig {
+        minSdkVersion safeExtGet('minSdkVersion', DEFAULT_MIN_SDK_VERSION)
+        targetSdkVersion safeExtGet('targetSdkVersion', DEFAULT_TARGET_SDK_VERSION)
+        versionCode 1
+        versionName "1.0"
+    }
+    lintOptions {
+        abortOnError false
+    }
     compileOptions {
         sourceCompatibility = 1.8
         targetCompatibility = 1.8
@@ -61,7 +61,8 @@ repositories {
 dependencies {
     implementation "com.facebook.react:react-native:${safeExtGet('reactnativeVersion', '+')}"
     implementation "androidx.work:work-runtime:2.2.0"
-    implementation "androidx.work:work-rxjava2:+"
+    implementation "androidx.work:work-rxjava2:2.2.0"
+    implementation "androidx.legacy:legacy-support-core-utils:1.0.0"
 }
 
 def configureReactNativePom(def pom) {
@@ -92,45 +93,3 @@ def configureReactNativePom(def pom) {
     }
 }
 
-afterEvaluate { project ->
-
-    task androidJavadoc(type: Javadoc) {
-        source = android.sourceSets.main.java.srcDirs
-        classpath += files(android.bootClasspath)
-        classpath += files(project.getConfigurations().getByName('compile').asList())
-        include '**/*.java'
-    }
-
-    task androidJavadocJar(type: Jar, dependsOn: androidJavadoc) {
-        classifier = 'javadoc'
-        from androidJavadoc.destinationDir
-    }
-
-    task androidSourcesJar(type: Jar) {
-        classifier = 'sources'
-        from android.sourceSets.main.java.srcDirs
-        include '**/*.java'
-    }
-
-    android.libraryVariants.all { variant ->
-        def name = variant.name.capitalize()
-        task "jar${name}"(type: Jar, dependsOn: variant.javaCompile) {
-            from variant.javaCompile.destinationDir
-        }
-    }
-
-    artifacts {
-        archives androidSourcesJar
-        archives androidJavadocJar
-    }
-
-    task installArchives(type: Upload) {
-        configuration = configurations.archives
-        repositories.mavenDeployer {
-            // Deploy to react-native-event-bridge/maven, ready to publish to npm
-            repository url: "file://${projectDir}/../android/maven"
-
-            configureReactNativePom pom
-        }
-    }
-}
diff --git a/node_modules/react-native-background-worker/android/src/main/java/com/backgroundworker/BackgroundWorkerService.java b/node_modules/react-native-background-worker/android/src/main/java/com/backgroundworker/BackgroundWorkerService.java
index 0158ef3..10f80bc 100644
--- a/node_modules/react-native-background-worker/android/src/main/java/com/backgroundworker/BackgroundWorkerService.java
+++ b/node_modules/react-native-background-worker/android/src/main/java/com/backgroundworker/BackgroundWorkerService.java
@@ -39,7 +39,7 @@ public class BackgroundWorkerService extends HeadlessJsTaskService {
         String text = extras.getString("text");
         assert text!=null;
 
-        int timeout = extras.getInt("timeout");
+        Double timeout = extras.getDouble("timeout");
 
         String id = extras.getString("id");
 
@@ -60,7 +60,7 @@ public class BackgroundWorkerService extends HeadlessJsTaskService {
 
         }
 
-        return new HeadlessJsTaskConfig(name, Arguments.fromBundle(extras), TimeUnit.MINUTES.toMillis(timeout), true);
+        return new HeadlessJsTaskConfig(name, Arguments.fromBundle(extras), TimeUnit.MINUTES.toMillis(timeout.intValue()), true);
 
     }
 
